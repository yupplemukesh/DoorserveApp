@model TogoFogo.Models.ServiceCenterModel
@{
    var cs = "";
    if (Model.Activetab == "tab-1")
    {
        cs = "active in";
    }
    var role = Session["RoleName"].ToString();

}

<div class="row">
    <div class="col-md-2">

        <ul class="nav nav-tabs m-b-15 tabs-left">
            @if (Model.action == 'I')
            {
                if (Model.Activetab == "tab-1")
                {
                    <li class="active">
                        <a href="#tab-1" id="tab1" role="tab" data-toggle="tab">
                            <i class="zmdi zmdi-library zmdi-hc-fw"></i> Website
                        </a>
                    </li>
                    <li>
                        <a href="#tab-2" class="disabled" id="tab2" role="tab" data-toggle="tab">
                            <i class="zmdi zmdi-delicious zmdi-hc-fw"></i>Organization
                        </a>
                    </li>
                    <li>
                        <a href="#tab-3" class="disabled" id="tab3" role="tab" data-toggle="tab">
                            <i class="zmdi zmdi-accounts zmdi-hc-fw"></i>Address and Contact Person
                        </a>
                    </li>
                    <li>
                        <a href="#tab-4" class="disabled" id="tab4" role="tab" data-toggle="tab">
                            <i class="zmdi zmdi-accounts-add zmdi-hc-fw"></i>Bank Details
                        </a>
                    </li>
                    <li>
                        <a href="#tab-5" class="disabled" id="tab5" role="tab" data-toggle="tab">
                            <i class="zmdi zmdi-texture zmdi-hc-fw"></i>Registration
                        </a>
                    </li>
                }

                else if (Model.Activetab == "tab-2")
                {
                    <li>
                        <a href="#tab-1" id="tab1" role="tab" data-toggle="tab">
                            <i class="zmdi zmdi-library zmdi-hc-fw"></i> Website
                        </a>
                    </li>
                    <li class="active">
                        <a href="#tab-2" id="tab2" role="tab" data-toggle="tab">
                            <i class="zmdi zmdi-delicious zmdi-hc-fw"></i>Organization
                        </a>
                    </li>
                    <li>
                        <a href="#tab-3" class="disabled" id="tab3" role="tab" data-toggle="tab">
                            <i class="zmdi zmdi-accounts zmdi-hc-fw"></i>Address and Contact Person
                        </a>
                    </li>
                    <li>
                        <a href="#tab-4" class="disabled" id="tab4" role="tab" data-toggle="tab">
                            <i class="zmdi zmdi-accounts-add zmdi-hc-fw"></i>Bank Details
                        </a>
                    </li>
                    <li>
                        <a href="#tab-5" class="disabled" id="tab5" role="tab" data-toggle="tab">
                            <i class="zmdi zmdi-texture zmdi-hc-fw"></i>Registration
                        </a>
                    </li>
                }


                else if (Model.Activetab == "tab-3")
                {

                    <li>
                        <a href="#tab-1" id="tab1" role="tab" data-toggle="tab">
                            <i class="zmdi zmdi-library zmdi-hc-fw"></i> Website
                        </a>
                    </li>
                    <li>
                        <a href="#tab-2" id="tab2" role="tab" data-toggle="tab">
                            <i class="zmdi zmdi-delicious zmdi-hc-fw"></i>Organization
                        </a>
                    </li>
                    <li class="active">
                        <a href="#tab-3" id="tab3" role="tab" data-toggle="tab" aria-expanded="true">
                            <i class="zmdi zmdi-accounts zmdi-hc-fw"></i>Address and Contact Person
                        </a>
                    </li>
                    <li>
                        <a href="#tab-4" class="disabled" id="tab4" role="tab" data-toggle="tab">
                            <i class="zmdi zmdi-accounts-add zmdi-hc-fw"></i>Bank Details
                        </a>
                    </li>
                    <li>
                        <a href="#tab-5" class="disabled" id="tab5" role="tab" data-toggle="tab">
                            <i class="zmdi zmdi-texture zmdi-hc-fw"></i>Registration
                        </a>
                    </li>

                }

                else if (Model.Activetab == "tab-4")
                {

                    <li>
                        <a href="#tab-1" id="tab1" role="tab" data-toggle="tab">
                            <i class="zmdi zmdi-library zmdi-hc-fw"></i> Website
                        </a>
                    </li>
                    <li>
                        <a href="#tab-2" id="tab2" role="tab" data-toggle="tab">
                            <i class="zmdi zmdi-delicious zmdi-hc-fw"></i>Organization
                        </a>
                    </li>
                    <li>
                        <a href="#tab-3" id="tab3" role="tab" data-toggle="tab">
                            <i class="zmdi zmdi-accounts zmdi-hc-fw"></i>Address and Contact Person
                        </a>
                    </li>
                    <li class="active">
                        <a href="#tab-4" id="tab4" role="tab" data-toggle="tab" aria-expanded="true">
                            <i class="zmdi zmdi-accounts-add zmdi-hc-fw"></i>Bank Details
                        </a>
                    </li>
                    <li>
                        <a href="#tab-5" class="disabled" id="tab5" role="tab" data-toggle="tab">
                            <i class="zmdi zmdi-texture zmdi-hc-fw"></i>Registration
                        </a>
                    </li>
                }


                else if (Model.Activetab == "tab-5")
                {

                    <li>
                        <a href="#tab-1" id="tab1" role="tab" data-toggle="tab">
                            <i class="zmdi zmdi-library zmdi-hc-fw"></i> Website
                        </a>
                    </li>
                    <li>
                        <a href="#tab-2" id="tab2" role="tab" data-toggle="tab">
                            <i class="zmdi zmdi-delicious zmdi-hc-fw"></i>Organization
                        </a>
                    </li>
                    <li>
                        <a href="#tab-3" id="tab3" role="tab" data-toggle="tab">
                            <i class="zmdi zmdi-accounts zmdi-hc-fw"></i>Address and Contact Person
                        </a>
                    </li>
                    <li>
                        <a href="#tab-4" id="tab4" role="tab" data-toggle="tab">
                            <i class="zmdi zmdi-accounts-add zmdi-hc-fw"></i>Bank Details
                        </a>
                    </li>
                    <li class="active">
                        <a href="#tab-5" id="tab5" role="tab" data-toggle="tab" aria-expanded="true">
                            <i class="zmdi zmdi-texture zmdi-hc-fw"></i>Registration
                        </a>
                    </li>
                }

            }
            else
            {

                <li class="active">
                    <a href="#tab-1" id="tab1" role="tab" data-toggle="tab">
                        <i class="zmdi zmdi-library zmdi-hc-fw"></i> Website
                    </a>
                </li>
                <li>
                    <a href="#tab-2" id="tab2" role="tab" data-toggle="tab">
                        <i class="zmdi zmdi-delicious zmdi-hc-fw"></i>Organization
                    </a>
                </li>
                <li>
                    <a href="#tab-3" id="tab3" role="tab" data-toggle="tab">
                        <i class="zmdi zmdi-accounts zmdi-hc-fw"></i>Address and Contact Person
                    </a>
                </li>

                <li>
                    <a href="#tab-4" id="tab4" role="tab" data-toggle="tab">
                        <i class="zmdi zmdi-accounts-add zmdi-hc-fw"></i>Bank Details
                    </a>
                </li>

                <li>
                    <a href="#tab-5" id="tab5" role="tab" data-toggle="tab">
                        <i class="zmdi zmdi-texture zmdi-hc-fw"></i>Registration
                    </a>
                </li>

            }

        </ul>
    </div>

    <div class="col-md-10">
        <div class="tab-content tab-content responsive">

            <div class="tab-pane fade in @cs" id="tab-1">
                <div class="container-fluid tab-form-control">
                    <div class="row">
                        @using (Html.BeginForm("AddorEditServiceCenter", "ManageServiceCenters", FormMethod.Post, new { enctype = "multipart/form-data", id = "contactform" }))
                        {
                            @Html.HiddenFor(x => x.CenterId)
                            @Html.HiddenFor(x => x.action)
                            @Html.HiddenFor(x => x.CurrentCenterName)
                            <div class="col-12 col-sm-12 col-md-12 col-lg-12 ">

                                @if (role.ToLower().Contains("admin"))
                                {


                                    <div class=" row form-group">
                                        <label class="col-md-3 control-label" for="selectbasic">Authorized Service Provider	</label>
                                        <div class="col-md-9">
                                            @Html.DropDownListFor(model => model.ProviderId, Model.ProviderList, "Select", new { @class = "form-control" })
                                            @*@Html.TextBoxFor(model => model.ProcessName, htmlAttributes: new { @class = "form-control", placeholder = "",@readonly="readonly" })*@
                                            @Html.ValidationMessageFor(model => model.ProviderId, "", new { @class = "text-danger" })
                                        </div>
                                    </div>
                                }
                                else
                                {
                                    @Html.HiddenFor(model => model.ProviderId)

                                }
                                <!-- Select Basic -->
                                <div class=" row form-group">
                                    <label class="col-md-3 control-label" for="selectbasic">Process Name	</label>
                                    <div class="col-md-9">
                                        @Html.DropDownListFor(model => model.ProcessId, Model.ProcessList, "Select", new { @class = "form-control" })
                                        @*@Html.TextBoxFor(model => model.ProcessName, htmlAttributes: new { @class = "form-control", placeholder = "",@readonly="readonly" })*@
                                        @Html.ValidationMessageFor(model => model.ProcessId, "", new { @class = "text-danger" })
                                    </div>
                                </div>

                                <!-- Text input-->
                                <div class=" row form-group">
                                    <label class="col-md-3 " for="textinput">Service Center Code</label>
                                    <div class="col-md-9">
                                        @Html.TextBoxFor(model => model.CenterCode, new { @class = "form-control input-md", @placeholder = "Service Center Code" })
                                        @Html.ValidationMessageFor(model => model.CenterCode, "", new { @class = "text-danger" })
                                    </div>
                                </div>


                                <!-- Text input-->
                                <div class=" row form-group">
                                    <label class="col-md-3 " for="textinput">Service Center Name</label>
                                    <div class="col-md-9">
                                        @Html.TextBoxFor(model => model.CenterName, new { @class = "form-control input-md", @placeholder = "Service Center Name" })
                                        @Html.ValidationMessageFor(model => model.CenterName, "", new { @class = "text-danger" })
                                    </div>
                                </div>

                                <div class="row form-group" id="serviceDelType">
                                    @*@Html.HiddenFor(x=>x.ServiceDeliveryType)*@
                                    <!-- Multiple Radios (inline) -->
                                    <label class="col-md-3 control-label" for="radios">Service Delivery Type</label>
                                    @for (int x = 0; x < Model.DeliveryServiceList.Count(); x++)
                                    {
                                        <div class="col-md-3">
                                            <label class="" for="radios-0">
                                                @Html.CheckBoxFor(p => p.DeliveryServiceList[x].IsChecked)
                                                @Html.HiddenFor(p => p.DeliveryServiceList[x].Text)
                                                @Model.DeliveryServiceList[x].Text
                                                @Html.HiddenFor(p => p.DeliveryServiceList[x].Value)


                                            </label>

                                        </div>
                                    }

                                    <div class="col-md-12 col-md-offset-3">
                                        @Html.ValidationMessageFor(x => x.DeliveryServiceList, "", new { @class = "text-danger" })

                                    </div>


                                </div>

                                <div class=" row form-group">
                                    <label class="col-md-3 control-label" for="selectbasic">Supported Device Category	</label>
                                    <div class="col-md-9">
                                        @Html.ListBoxFor(model => model.DeviceCategories, Model.SupportedCategoryList, htmlAttributes: new { @class = "selectpicker form-control", multiple = "multiple", data_actions_box = "true", data_width = "100%", @data_val = "true", @data_val_required = "choose is device category" })
                                        @Html.ValidationMessageFor(model => model.DeviceCategories, "", new { @class = "text-danger" })
                                    </div>
                                </div>


                                <div class="row form-group">
                                    <!-- Multiple Radios (inline) -->
                                    @*@Html.HiddenFor(x => x.ServiceType)*@
                                    <label class="col-md-3 control-label" for="radios">Service Type</label>

                                    @for (int x = 0; x < Model.ServiceList.Count(); x++)
                                    {
                                        <div class="col-md-3">
                                            <label class="" for="radios-0">
                                                @Html.CheckBoxFor(p => p.ServiceList[x].IsChecked)
                                                @Html.HiddenFor(p => p.ServiceList[x].Text)
                                                @Model.ServiceList[x].Text
                                                @Html.HiddenFor(p => p.ServiceList[x].Value)


                                            </label>

                                        </div>
                                    }

                                    <div class="col-md-12 col-md-offset-3">
                                        @Html.ValidationMessageFor(x => x.ServiceList, "", new { @class = "text-danger" })

                                    </div>
                                </div>


                                <div class="row form-group pull-right">
                                    @if (Model.action == 'I')
                                    {
                                        <button type="button" class="btn btn-primary reset">RESET</button>
                                    }
                                    <button class="btn btn-primary">
                                        SAVE

                                    </button>
                                </div>
                            </div>
                        }
                    </div>
                </div>




            </div>
            <div class="tab-pane fade" id="tab-2">



                <!-- <h2> Address and Contact Person</h2>-->

                <div class="container-fluid tab-form-control">
                    <div class="row">
                        @using (Html.BeginForm("AddorEditOrganization", "ManageServiceCenters", FormMethod.Post, new { enctype = "multipart/form-data" }))
                        {

                            @Html.HiddenFor(x => x.CenterId)
                            @Html.HiddenFor(x => x.action)

                            <div class="col-12 col-sm-12 col-md-12 col-lg-12 ">
                                @Html.Partial("~/Views/common/_AddOrEditOrginazation.cshtml", Model.Organization)
                                <div class="row form-group pull-right">
                                    @if (Model.action == 'I')
                                    {
                                        <button type="button" class="btn btn-primary reset">RESET</button>
                                    }
                                    <button type="submit" class="btn btn-primary">
                                        SAVE
                                    </button>
                                </div>
                            </div>
                        }
                    </div>
                </div>



            </div>
            <div class="tab-pane fade" id="tab-3">
                <div class="container-fluid tab-form-control">
                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 ">
                        <div class="row margin-bottom-sm">
                            <div class="col-12 pull-right align-text-top  ">
                                <input type="button" class="btn btn-primary " href="#ContactModel" data-toggle="modal" onclick='AddOrEditContact(@Html.Raw(Json.Encode(new TogoFogo.Models.ContactPersonModel())))' value="add  Contact" />
                            </div>

                        </div>
                        <div class="row">


                            @if (Model.ContactPersons != null)
                            {
                                <div class="col-12">
                                    @foreach (var item in Model.ContactPersons)
                                    {
                                        @Html.Partial("~/Views/Common/_ContactDetails.cshtml", item)
                                    }
                                </div>
                            }

                        </div>
                    </div>

                </div>
            </div>


            <div class="tab-pane fade" id="tab-4">
                <!--<h2>Bank Details</h2>-->
                <div class="container-fluid tab-form-control">

                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 ">

                        <div class="row" id="bankDetails">

                            @if (Model.BankDetails != null)
                            {
                                <div class="col-9">
                                    @foreach (var item in Model.BankDetails)
                                    {
                                        @Html.Partial("~/Views/Common/_bankDetails.cshtml", item)

                                    }
                                </div>
                            }
                            else
                            {
                                <div class="col--md-9 col-md-offset-9">
                                </div>
                            }
                            <div class="col-3 pull-md-right">
                                <input type="button" class="btn btn-primary" href="#BankModel" data-toggle="modal" onclick='AddOrEditBank(@Html.Raw(Json.Encode(new TogoFogo.Models.BankDetailModel())))' value="add  Bank" />

                            </div>

                        </div>
                    </div>





                </div>
            </div>

            <div class="tab-pane fade" id="tab-5">

                <!--<h2>Registration</h2>-->

                <div class="container-fluid tab-form-control">
                    <div class="row">
                        <div class="col-12 col-sm-12 col-md-12 col-lg-12 ">
                            @using (Html.BeginForm("AddOrEditClientReg", "ManageServiceCenters", FormMethod.Post, new { enctype = "multipart/form-data", id = "contactform" }))
                            {
                                @Html.HiddenFor(x => x.CenterId)
                                @Html.HiddenFor(x => x.action)
                                @Html.HiddenFor(x => x.CurrentUserName)
                                <!-- Select Basic -->
                                <div class="row form-group">
                                    <label class="col-md-3 control-label" for="selectbasic">
                                        Is Active?
                                    </label>
                                    <div class="col-md-9">

                                        @Html.CheckBoxFor(x => x.IsActive)

                                    </div>

                                </div>

                                <div class="form-group">
                                    <div class="row">
                                        <div class="col-md-12 col-sm-12 col-xs-12">
                                            <div class="row">
                                                <div class="col-md-3">
                                                    @Html.LabelFor(model => model.IsUser, htmlAttributes: new { @class = "control-label" })
                                                </div>

                                                <div class="col-md-9">

                                                    @Html.CheckBoxFor(x => x.IsUser)

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                if (Model.IsUser)
                                {

                                    <div class=" row form-group " id="userDetails">
                                        <label class="col-md-3 " for="textinput">User Name</label>
                                        <div class="col-md-9">
                                            @Html.TextBoxFor(x => x.UserName, new { @class = "form-control input-md", @placeholder = "User name", @readOnly = true })
                                        </div>
                                    </div>
                                }

                                else
                                {
                                    <div class="form-group row" id="userDetails" style="display:none">
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            @Html.LabelFor(model => model.UserName, htmlAttributes: new { @class = "control-label" })
                                            <div class="input-group">
                                                <span class="input-group-addon"></span>
                                                @Html.TextBoxFor(x => x.UserName, new { @class = "form-control", @placeholder = "User name" })

                                            </div>
                                            @Html.ValidationMessageFor(model => model.UserName, "", new { @class = "text-danger" })
                                        </div>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            @Html.LabelFor(model => model.Password, htmlAttributes: new { @class = "control-label" })
                                            <div class="input-group">
                                                <span class="input-group-addon"></span>
                                                @Html.PasswordFor(x => x.Password, new { @class = "form-control", @placeholder = "Password" })

                                            </div>
                                            @Html.ValidationMessageFor(model => model.Password, "", new { @class = "text-danger" })
                                        </div>
                                    </div>

                                }

                                <!-- Text input-->
                                <div class=" row form-group ">
                                    <label class="col-md-3 " for="textinput">Comments</label>
                                    <div class="col-md-9">
                                        @Html.TextAreaFor(x => x.Remarks, new { @class = "form-control input-md" })
                                    </div>
                                </div>

                                <div class="row form-group pull-right">
                                    @if (Model.action == 'I')
                                    {
                                        <button type="button" class="btn btn-primary reset">RESET</button>
                                    }

                                    <button class="btn btn-primary">
                                        SAVE

                                    </button>
                                </div>

                            }

                        </div>

                    </div>
                </div>


            </div>
        </div>
    </div>

</div>




<div class="modal fade" id="BankModel" role="dialog" tabindex="-1">
    <div class="modal-dialog modal-lg">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header  bg-primary">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Bank Details</h4>
            </div>
            @using (Html.BeginForm("AddOrEditBank", "ManageServiceCenters", FormMethod.Post, new { enctype = "multipart/form-data" }))
            {
                <div class="modal-body" id="BankInfo">

                </div>
            }
        </div>

    </div>
</div>

<div class="modal fade" id="ContactModel" role="dialog" tabindex="-1">
    <div class="modal-dialog modal-lg">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header  bg-primary">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Contact Details </h4>
            </div>
            @using (Html.BeginForm("AddOrPersonContactDetails", "ManageServiceCenters", FormMethod.Post, new { enctype = "multipart/form-data", }))
            {
                <div class="modal-body" id="ContactInfo">

                </div>
                <div class="row ">
                    <div class="ln_solid"></div>
                    <div class="form-group">
                        <div class="col-md-6 col-sm-6 col-xs-12 col-md-offset-3">
                            <button type="submit" class="btn btn-success">Submit</button>
                        </div>
                    </div>
                </div>
            }
        </div>
    </div>
</div>
