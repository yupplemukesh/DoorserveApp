@model TogoFogo.Models.ServiceCenter.CallDetailsModel
@{
    ViewBag.Title = "Edit Client";
    Layout = "~/Views/Shared/_LayoutPage1.cshtml";
}

<div class="panel-heading">

    <h3 class="m-y-0">Edit Call log</h3>

</div>
<div class="panel-body">

    @using (Html.BeginForm("Edit", "ClientData", FormMethod.Post, new { id = "submitthis" }))
    {
    @Html.HiddenFor(x=>x.Id)
    @Html.Partial("_NewCallLogForm", Model)
    }
</div>





@section scripts{
    @Scripts.Render("~/bundles/jqueryval")
    @Scripts.Render("~/bundles/js/form-m")
<script>

    $(".ladda-button").hide();
     function AjaxWithValue(method, ddl, e) {
            var val = e.value;

            if (ddl == "address_StateId")
                $("#address_CityId").empty();
            if (ddl == 'DeviceModalId') {

                var brand = $("#DeviceBrandId").val();
                var category = $("#DeviceCategoryId").val();
                if (brand == "" || category == "")
                    return false;
                else
                    val = brand + ',' + category;
            }

            $.ajax({
                type: "GET",
                url: "/DropdownBind/" + method + "?value=" + val,
                data: '{}',
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (data) {
                    debugger
                    $("#" + ddl).empty();

                    for (var i = 0; i < data.length; i++) {
                        var opt = new Option(data[i].Text, data[i].Value);
                        $('#' + ddl).append(opt);
                    }

                }
            });
        }

</script>

}
